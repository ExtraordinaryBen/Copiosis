@* This is the page for viewing transactions by consumers and producers *@
@* Page for creating transactions for both producers and consumers, do they need to be separate pages? *@
@model Copiosis_Application.Models.TransactionModel

<div class="row">
    <div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-xs-10 col-xs-offset-1">
        <h2 id="add-item-title">View Transaction</h2>

        @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "ConfirmForm" }))
        {
            @Html.AntiForgeryToken()
            @Html.Partial("ValidationSummary", ViewData.ModelState)

            <p style="color:#33CC33; font-weight:bold" id="updateSuccess" class="hidden">Update Success!</p>

        if (Model.providerID == WebSecurity.CurrentUserId || Model.receiverID == WebSecurity.CurrentUserId)
        {
        <div>
            
            <div class="row">
                <div class="col-lg-12 col-md-12 col-xs-12">
                    
                    @Html.Partial("_TransactionInfo")
                    @Html.Partial("_ProducerNotes")
                    @Html.Partial("_ConsumerNotes")
                    @Html.Partial("_SatisfactionRating")
                    @Html.Partial("_ConfirmRejectTransaction")

                </div>
            </div>
        </div>
        }
        }
    </div>
</div>

@section Scripts {
<script src="~/Scripts/viewtransaction.js"></script>

    @Scripts.Render("~/bundles/jqueryval")
}