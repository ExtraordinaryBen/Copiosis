@model Copiosis_Application.Models.TransactionOverviewModel
<div class="row">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="col-lg-9 col-md-8 col-sm-7 col-xs-12"style="padding-left:0px">
                <h1>Transaction Overview</h1>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-5 col-xs-12">
                <h4 class="text-center">Create a Transaction</h4>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center" style="margin-top:5px">
                    <button type="button" class="btn btn-default" onclick="location.href='@Url.Action("Create", "Account", new { type = "producer" })'">Producer</button>
                    <button type="button" class="btn btn-default" onclick="location.href='@Url.Action("Create", "Account", new { type = "consumer" })'">Consumer</button>
                </div>
            </div>
        </div>
    </div>    
    <div class="row">
        <div class="col2-sm-12 col-md-12 col-lg-12">
            <h3>Transactions Awaiting Your Approval</h3>

            @if (Model.pendingUser.Count() < 1) { 
                <h4>No Pending Personal Transactions</h4>
            }
            else { 
                <div class="table-responsive">
                    <table data-link="row" class="table table-bordered table-hover table-striped">
                        <thead>
                            <tr>
                                <th>Service/Item Name</th>
                                <th>Date Created</th>
                                <th>Other Party</th>
                                <th>NBR Reward</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.pendingUser)
                            {
                                if(item.newSinceLogin)
                                {
                                    <tr id="@item.productGuid" class="clickable" onclick="location.href='@Url.Action("View", "Account", new { tranId = item.transactionID })' " style="background-color: #F4FA58;cursor:pointer">
                                        <td> <span class="glyphicon glyphicon-flag"></span> @item.productName </td>
                                        <td>@item.dateAdded</td>
                                        <td>@item.otherParty</td>
                                        <td>@item.nbr</td>
                                    </tr>
                                }
                                else { 
                                    <tr id="@item.productGuid" class="clickable" onclick="location.href='@Url.Action("View", "Account", new { tranId = item.transactionID })' " style="cursor:pointer">
                                        <td>@item.productName</td>
                                        <td>@item.dateAdded</td>
                                        <td>@item.otherParty</td>
                                        <td>@item.nbr</td>
                                    </tr>
                                }
                            }
                        </tbody> 
                    </table>
                </div>
            }
        </div>
    </div>
        <div class="row">
            <div class="col-sm-12 col-md-12 col-lg-12">
                <h3>Transactions Awaiting Other Parties Approval</h3>
                @if (Model.pendingOther.Count() < 1)
                {
                    <h4>No Pending Requested Transactions</h4>
                }
                else
                {
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover table-striped">
                            <thead>
                                <tr>
                                    <th>Service/Item Name</th>
                                    <th>Date Created</th>
                                    <th>Other Party</th>
                                    <th>NBR Reward</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.pendingOther)
                                {                                
                                    <tr id="@item.productGuid" class="clickable" onclick="location.href='@Url.Action("View", "Account", new { tranId = item.transactionID })' " style="cursor:pointer">
                                        <td>@item.productName</td>
                                        <td>@item.dateAdded</td>
                                        <td>@item.otherParty</td>
                                        <td>@item.nbr</td>
                                    </tr>                        
                                }
                            </tbody>
                        </table>
                    </div>
                }
            </div>

        </div>
    <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-12">
            <h3>Completed Transactions</h3>
            @if (Model.completed.Count() < 1)
            {
                <h4>No Recently Completed Transactions</h4>
            }
            else { 
                <div class="table-responsive">
                    <table class="table table-bordered table-hover table-striped">
                        <thead>
                            <tr>
                                <th>Service/Item Name</th>
                                <!-- <th>Date Created</th> -->
                                <th>Date Completed</th>
                                <th>Other Party</th>
                                <th>NBR Reward</th>
                                <th>Result</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.completed)
                            {
                                <tr id="@item.productGuid" class="clickable" onclick="location.href='@Url.Action("View", "Account", new { tranId = item.transactionID })'" style="cursor:pointer">
                                    <td>@item.productName</td>
                                    <!-- <td>@item.dateAdded</td> -->
                                    <td>@item.dateClosed</td>
                                    <td>@item.otherParty</td>
                                    <td>@item.nbr</td>
                                    <td>@item.status</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            }
        </div>
    </div>
</div>
